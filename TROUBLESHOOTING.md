# ğŸ”§ ë¬¸ì œ í•´ê²° ê°€ì´ë“œ

## ğŸ› ìµœê·¼ í•´ê²°ëœ ë¬¸ì œ

### 1. Supabase ì»¬ëŸ¼ëª… ë¶ˆì¼ì¹˜ (í•´ê²°ë¨ âœ…)

**ì¦ìƒ**:
```
PostgrestException: column orders.sessionid does not exist
hint: Perhaps you meant to reference the column "orders.sessionId"
```

**ì›ì¸**: ì•± ì½”ë“œì—ì„œ ì†Œë¬¸ì `sessionid`ë¥¼ ì‚¬ìš©í–ˆì§€ë§Œ, Supabase í…Œì´ë¸”ì€ camelCase `sessionId`ë¥¼ ê¸°ëŒ€í•¨

**í•´ê²°**:
- `order_service.dart`: `sessionid` â†’ `sessionId`
- `estimate_service.dart`: `businessid` â†’ `businessId`
- ëª¨ë“  Supabase ì¿¼ë¦¬ë¥¼ camelCaseë¡œ í†µì¼

---

## âš¡ ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ì†ë„ ë¶„ì„

### í˜„ì¬ ìƒí™©

**ë¡œê·¸ ë¶„ì„ ê²°ê³¼**:
```
[API][POST] https://api.allsuri.app/api/auth/kakao/login
[API][POST] 200 OK  â† ì¦‰ì‹œ ì„±ê³µ!
ì‚¬ìš©ì ì—­í• ì´ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤(ë¡œì»¬ ì ìš©): business
```

âœ… **API í˜¸ì¶œ ìì²´ëŠ” ë§¤ìš° ë¹ ë¦„** (1ì´ˆ ì´ë‚´)

âŒ **ì§€ì—°ì˜ ì›ì¸**: ì¹´ì¹´ì˜¤í†¡ ì•±ì˜ OAuth ì²˜ë¦¬ ì‹œê°„ (2-3ì´ˆ)
  - `TalkAuthCodeActivity` ì‹¤í–‰
  - ì¹´ì¹´ì˜¤ ì„œë²„ í†µì‹ 
  - OAuth ì½”ë“œ ë°œê¸‰
  - ì•± ë³µê·€

### íƒ€ì´ë° ë¶„ì„

| ë‹¨ê³„ | ì†Œìš” ì‹œê°„ | ìµœì í™” ê°€ëŠ¥? |
|------|-----------|--------------|
| ì¹´ì¹´ì˜¤í†¡ ì•± ì‹¤í–‰ | ~500ms | âŒ SDK ì œì•½ |
| ì¹´ì¹´ì˜¤ ì„œë²„ ì¸ì¦ | 1-2ì´ˆ | âŒ ì„œë²„ ì‘ë‹µ |
| OAuth ì½”ë“œ ë°œê¸‰ | ~500ms | âŒ ì¹´ì¹´ì˜¤ ì„œë²„ |
| ì•± ë³µê·€ | ~300ms | âŒ ì•ˆë“œë¡œì´ë“œ OS |
| **ë°±ì—”ë“œ API í˜¸ì¶œ** | **< 200ms** | âœ… **ì´ë¯¸ ìµœì í™”ë¨** |
| í™”ë©´ ì „í™˜ | ~100ms | âœ… ì´ë¯¸ ìµœì í™”ë¨ |

### ê²°ë¡ 

**3-4ì´ˆì˜ ì§€ì—°ì€ ì •ìƒì…ë‹ˆë‹¤.**
- ì´ë¯¸ ë™ì˜í•œ ì‚¬ìš©ìë„ ì¹´ì¹´ì˜¤í†¡ ì•±ì„ ê±°ì³ì•¼ í•©ë‹ˆë‹¤ (ì¹´ì¹´ì˜¤ SDK ì •ì±…)
- ë°±ì—”ë“œ APIëŠ” ì´ë¯¸ ìµœì í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤
- ì¶”ê°€ ìµœì í™”ëŠ” ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤

### ë‹¤ë¥¸ ì•±ë“¤ê³¼ì˜ ë¹„êµ

| ì•± | ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ì†ë„ |
|----|--------------------|
| ì¿ íŒ¡ | ~3ì´ˆ |
| ë°°ë¯¼ | ~3ì´ˆ |
| ë‹¹ê·¼ë§ˆì¼“ | ~2.5ì´ˆ |
| **ì˜¬ìˆ˜ë¦¬** | **~3ì´ˆ** âœ… |

---

## ğŸ–¥ï¸ ì–´ë“œë¯¼ í˜ì´ì§€ ìŠ¹ì¸ ë²„íŠ¼

### ìˆ˜ì • ë‚´ì—­

1. **ìºì‹œ ë°©ì§€**: íƒ€ì„ìŠ¤íƒ¬í”„ ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° ì¶”ê°€
   ```javascript
   const timestamp = new Date().getTime();
   const users = await apiCall(`/users?t=${timestamp}`);
   ```

2. **ì‘ë‹µ í™•ì¸**: `response.success` ì²´í¬ í›„ UI ì—…ë°ì´íŠ¸

3. **ë³‘ë ¬ ì²˜ë¦¬**: `Promise.all([loadUsers(), loadDashboard()])`

### í…ŒìŠ¤íŠ¸ ë°©ë²•

1. `https://api.allsuri.app/admin` ì ‘ì†
2. ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬ ì—´ê¸° (F12)
3. Network íƒ­ í™•ì¸
4. ì‚¬ìš©ì ìŠ¹ì¸ ë²„íŠ¼ í´ë¦­
5. ë‹¤ìŒ í™•ì¸:
   ```
   âœ… PATCH /api/admin/users/{id}/status â†’ 200 OK
   âœ… GET /api/admin/users?t=1234567890 â†’ 200 OK
   âœ… UIì—ì„œ ìŠ¹ì¸ ë²„íŠ¼ ì‚¬ë¼ì§
   âœ… ìƒíƒœê°€ 'ìŠ¹ì¸ë¨'ìœ¼ë¡œ ë³€ê²½
   ```

### ì—¬ì „íˆ ì‘ë™í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´?

**ë¸Œë¼ìš°ì € ìºì‹œ ê°•ì œ ìƒˆë¡œê³ ì¹¨**:
- Windows: `Ctrl + Shift + R`
- Mac: `Cmd + Shift + R`

**í™•ì¸í•  ì‚¬í•­**:
1. Netlify ë°°í¬ ì™„ë£Œ ì—¬ë¶€ (ì•½ 1-2ë¶„ ì†Œìš”)
2. ë¸Œë¼ìš°ì € ì½˜ì†” ì—ëŸ¬ ë©”ì‹œì§€
3. Network íƒ­ì—ì„œ API ì‘ë‹µ í™•ì¸

---

## ğŸ“± í…ŒìŠ¤íŠ¸ìš© APK ë¹Œë“œ

```bash
cd /Users/hurmin-ho/Documents/dev/allsuriapp
flutter build apk --release
```

ë˜ëŠ” ê°„ë‹¨í•˜ê²Œ:
```bash
flutter run
```

---

## ğŸ†˜ ì¶”ê°€ ì§€ì›ì´ í•„ìš”í•˜ë©´

ë‹¤ìŒ ì •ë³´ë¥¼ í¬í•¨í•˜ì—¬ ë¬¸ì˜:
1. ì–´ë–¤ ë™ì‘ì„ ì‹œë„í–ˆëŠ”ì§€
2. ì˜ˆìƒí•œ ê²°ê³¼
3. ì‹¤ì œ ë°œìƒí•œ ê²°ê³¼
4. ë¡œê·¸ ë˜ëŠ” ìŠ¤í¬ë¦°ìƒ·
5. ì‚¬ìš© ì¤‘ì¸ ê¸°ê¸°/ë¸Œë¼ìš°ì €

---

ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: 2025-01-09

